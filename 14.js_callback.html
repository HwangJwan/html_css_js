<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js callback</title>
</head>

<body>
    <button onclick="basicFunction()">일반함수 호출</button>
    <button onclick="callBackFunction1()">콜백함수 예제1</button>
    <button onclick="callBackFunction2()">콜백함수 예제2</button>
    <button onclick="callBackFunction3()">콜백함수 예제3</button>
    
    <script>
        function basicFunction() {
            console.log("hello world");
        }
        function callBackFunction1() {
            callBackTest(()=>{console.log("hello java")});
        }
        // 콜백함수 : 다른 함수의 매개변수로 넘겨지는 함수
        function callBackTest(f1) {
            f1();
        }
        function callBackFunction2() {
            const numbers=[1,2,3,4,5];
            // forEach, map 등 함수형 프로그래밍에서 콜백함수 형식을 많이 사용
            numbers.forEach((a)=>console.log(a));
            // js는 기본적으로 동기적으로 동작.(콜백함수 포함)
            // java : 멀티스레드
            // 1) 장점 - 성능 빠름
            // 2) 단점 - 코드 복잡도 상승(동시성 문제)
            // js : 싱글스레드
            // 1) 장점 - 단순함(동시성 이슈X)
            // 2) 단점 - 성능 느림
            // 3) 단점을 해결하기 위해 비동기코드 적극 도입
            console.log("hello python");
        }
        function callBackFunction3() {
            // setTimeout : n초 뒤에 요청한 적업을 처리해주는 함수
            // setTimeout : 콜백함수 처리 + 비동기적 동작하는 대표적 함수
            // js에서 비동기적으로 동작하는 함수는 일반적으로 실행 시간이 오래걸리는 작업이다.(서버에 api요청)
            setTimeout(()=>console.log("hello java1"), 2000);
            console.log("hello python1");
            // 실행순서를 보장해야 하는 상황에서 문제 발생.
            // ex) 작업사항
            // function test() {
            // 응답값=서버 api요청  => 비동기적으로 실행 되므로 아래 코드에 아무것도 담기지 않음
            // 콘솔출력(응답값)                 
            // }
            setTimeout(()=>console.log("hello java2"), 2000);
            console.log("hello python2");
        }
    </script>

</body>

</html>